<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Insert Pretty Code Block</title>
	<script type="text/javascript" src="tiny_mce_popup.js?ver=3392"></script>
    <script type="text/javascript">
        tinyMCEPopup.requireLangPack();

        var PrettyCodeBlockDialog = {
            init : function() {
                this.resize();
            },

            insert : function() {
                var code = tinyMCEPopup.dom.encode(document.getElementById('content').value);
                var codeBlock = '<pre class="prettyprint">' + code + '</pre>'
                tinyMCEPopup.editor.execCommand('mceInsertContent', false, codeBlock);
                tinyMCEPopup.close();
            },

            resize : function() {
                var vp = tinyMCEPopup.dom.getViewPort(window), el;

                el = document.getElementById('content');

                el.style.width  = (vp.w - 20) + 'px';
                el.style.height = (vp.h - 90) + 'px';
            }
        };

        tinyMCEPopup.onInit.add(PrettyCodeBlockDialog.init, PrettyCodeBlockDialog);
    </script>
</head>
<body onresize="PrettyCodeBlockDialog.resize();" style="display:none; overflow:hidden;">
	<form name="source" onsubmit="return PrettyCodeBlockDialog.insert();" action="#">
		<div style="float: left" class="title">Insert Pretty Code Block</div>

        <div style="float: right;">
		</div>

		<br style="clear: both" />

		<div>Use CTRL+V on your keyboard to paste the code into the window.</div>

		<textarea id="content" name="content" rows="15" cols="100" style="width: 100%; height: 100%; font-family: 'Courier New',Courier,mono; font-size: 12px;" dir="ltr" wrap="soft" class="mceFocus"></textarea>

		<div class="mceActionPanel">
			<div style="float: left">
				<input type="button" name="{#cancel}" value="{#cancel}" onclick="tinyMCEPopup.close();" id="cancel" />
			</div>

			<div style="float: right">
				<input type="submit" name="{#insert}" value="{#insert}" id="insert" />
			</div>
		</div>
	</form>
</body> 
</html>
